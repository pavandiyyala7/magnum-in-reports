<div class="card px-4 py-1">
  <div class="header-row">
    <h2 style="color: #007ad9;">Operation Report</h2>
  </div>
  
  <div class="filter-container mb-1">
    <div class="filter-item">
      <p-calendar [(ngModel)]="rangeDates" placeholder="Select Date Range" selectionMode="range" (onSelect)="applyFilters()" [readonlyInput]="true"></p-calendar>
    </div>
    
    <div class="filter-item">
      <p-dropdown [options]="shopFloorOptions" placeholder="Select Shopfloor" [(ngModel)]="selectedShopfloor" (onChange)="applyFilters()" optionLabel="label"></p-dropdown>
    </div>
    <div class="filter-item">
      <p-dropdown [options]="departmentList" placeholder="Select Department" [(ngModel)]="selectedDepartment" (onChange)="applyFilters()" optionLabel="label"></p-dropdown>
    </div>
    <div class="filter-item">
      <p-dropdown [options]="machineList" placeholder="Select Machine" [(ngModel)]="selectedMachine" (onChange)="applyFilters()" optionLabel="label"></p-dropdown>
    </div>
    <p-splitButton 
        [label]="selectedLabel"
        [icon]="selectedIcon" 
        [model]="items"
        styleClass="p-button-primary"
        appendTo="body">
    </p-splitButton>
  </div>

  <p-table [value]="filteredData" responsiveLayout="scroll" class="p-datatable-sm">
    <ng-template pTemplate="header">
      <tr class="custom-row">
        <th>Part Description</th>
        <th>Planned Quantity</th>
        <th>Actual Quantity</th>
        <th>Rejection Quantity</th>
        <th>Production %</th>
        <th>Actual Manpower Used</th>
        <th>Required Time</th>
        <th>Actual Time</th>
        <th>Time Difference</th>
        <th>Efficiency</th>
      </tr>
    </ng-template>
  
    <ng-template pTemplate="body" let-rowData>
      <tr class="custom-row">
        <td>{{ rowData.partDescription }}</td>
        <td>{{ rowData.plannedQuantity }}</td>
        <td>{{ rowData.actualQuantity }}</td>
        <td>{{ rowData.rejectionQuantity }}</td>
        <td>{{ rowData.productionPercent }}</td>
        <td>{{ rowData.actualManpowerUsed }}</td>
        <td>{{ rowData.requiredTime }}</td>
        <td>{{ rowData.actualTime }}</td>
        <td>
          <span [ngClass]="negative">
            {{ rowData.timeDifference }}
          </span>
        </td>
        <td>{{ rowData.efficiency }}</td>
      </tr>
    </ng-template>
  
    <ng-template pTemplate="emptymessage">
      <tr>
        <td class="no-data-message" colspan="10" >No data found</td>
      </tr>
    </ng-template>
  </p-table>

</div>
  